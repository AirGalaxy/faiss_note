# Fassi源码阅读
本节为乘积量化方法的预备知识
## 1. 什么是乘积量化方法
还记得前面的IVF方法吗，里面提到量化的一个想法就是用把物料向量量化到聚类中心的向量上，但是这样做的误差太大了。可能我们有100万个向量，但是我们的聚类中心只有65536个，用65535个向量来表示100万个向量显然是不合适的。  
有什么能扩展量化结果的可能性的方法呢？我们想到我们可以先对原始向量进行切分，然后对切分后的子向量做聚类，用子向量的聚类中心组合来做为量化结果。对于一个1024维的向量，我们把1-512维切分为子向量1，513-1024维切分为子向量2，每个子向量(65536/2)个聚类中心，现在我们可以用这些聚类中心表示32768*32768=1073741824个向量。  
可以看到使用了相同数量的聚类中心，能表示的向量却多了很多。

假设我们的物料向量有$M$个，每个物料向量有$d$维。切分的子向量数量为N。PQ方法的步骤如下:
1. 切分子向量  
如上图所示，我们将原始的向量切分为了N个子向量，每个子向量$d/N$维
